import unittest
import os
from mock import Mock, patch


mock_issues = [
	# Single issues
	Mock(raw_data={u'labels': [], u'number': 248, u'assignee': {u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 216846343, u'title': u'Puller / evermaps ', u'comments': 0, u'state': u'open', u'body': u'', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/248/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/248/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/248/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/248', u'updated_at': u'2017-03-24T16:57:52Z', u'user': {u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}, u'milestone': None, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/248', u'created_at': u'2017-03-24T16:57:52Z', u'assignees': [{u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}]}),
	Mock(raw_data={u'labels': [], u'number': 247, u'assignee': {u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 216811377, u'title': u'Puller / no filter for locations abroad', u'comments': 0, u'state': u'open', u'body': u'', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/247/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/247/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/247/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/247', u'updated_at': u'2017-03-24T14:59:10Z', u'user': {u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}, u'milestone': None, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/247', u'created_at': u'2017-03-24T14:59:10Z', u'assignees': [{u'following_url': u'https://api.github.com/users/walajadi/following{/other_user}', u'events_url': u'https://api.github.com/users/walajadi/events{/privacy}', u'organizations_url': u'https://api.github.com/users/walajadi/orgs', u'url': u'https://api.github.com/users/walajadi', u'gists_url': u'https://api.github.com/users/walajadi/gists{/gist_id}', u'html_url': u'https://github.com/walajadi', u'subscriptions_url': u'https://api.github.com/users/walajadi/subscriptions', u'avatar_url': u'https://avatars3.githubusercontent.com/u/8027638?v=3', u'repos_url': u'https://api.github.com/users/walajadi/repos', u'received_events_url': u'https://api.github.com/users/walajadi/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/walajadi/starred{/owner}{/repo}', u'site_admin': False, u'login': u'walajadi', u'type': u'User', u'id': 8027638, u'followers_url': u'https://api.github.com/users/walajadi/followers'}]}),
	Mock(raw_data={u'labels': [{u'url': u'https://api.github.com/repos/PartooHub/partoo/labels/task', u'color': u'fbca04', u'default': False, u'id': 500865110, u'name': u'task'}], u'number': 246, u'assignee': None, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 216715567, u'title': u'Extractor / Partoo modif / Put closing status', u'comments': 0, u'state': u'open', u'body': u'https://trello.com/c/6AJrD7S1/152-fermeture-sur-partoo-modif\r\n\r\nReport to Steeve', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/246/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/246/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/246/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/246', u'updated_at': u'2017-03-24T09:30:16Z', u'user': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'milestone': None, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/246', u'created_at': u'2017-03-24T09:30:16Z', u'assignees': []}),

	# Associated issues
	## Issue associated to a milestone
	Mock(raw_data={u'labels': [], u'number': 234, u'assignee': None, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 215997709, u'title': u'Pusher / Foursquare / Implement deactivate from Foursquare', u'comments': 0, u'state': u'open', u'body': u'We are paying by nb of businesses which are activated.\r\nWe should find a way to mark the business as unactivated on Foursquare.', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/234/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/234/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/234/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/234', u'updated_at': u'2017-03-22T09:19:54Z', u'user': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'milestone': {u'description': u'', u'title': u'PM / Implement closing a business', u'url': u'https://api.github.com/repos/PartooHub/partoo/milestones/14', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/milestones/14/labels', u'created_at': u'2017-01-17T20:23:24Z', u'creator': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'number': 14, u'html_url': u'https://github.com/PartooHub/partoo/milestone/14', u'updated_at': u'2017-03-22T09:19:54Z', u'due_on': u'2017-02-17T08:00:00Z', u'state': u'open', u'closed_issues': 5, u'open_issues': 1, u'closed_at': None, u'id': 2259593}, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/234', u'created_at': u'2017-03-22T09:19:54Z', u'assignees': []}),

	## Issue associated to another milestone
	Mock(raw_data={u'labels': [{u'url': u'https://api.github.com/repos/PartooHub/partoo/labels/task', u'color': u'fbca04', u'default': False, u'id': 500865110, u'name': u'task'}], u'number': 217, u'assignee': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 214811722, u'title': u'Review reducers', u'comments': 2, u'state': u'open', u'body': u'', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/217/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/217/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/217/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/217', u'updated_at': u'2017-03-23T19:05:57Z', u'user': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'milestone': {u'description': u'Enable users to do bulk matching on the web app', u'title': u'Partner Connections / GMB', u'url': u'https://api.github.com/repos/PartooHub/partoo/milestones/5', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/milestones/5/labels', u'created_at': u'2017-01-02T11:53:05Z', u'creator': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'number': 5, u'html_url': u'https://github.com/PartooHub/partoo/milestone/5', u'updated_at': u'2017-03-24T16:57:14Z', u'due_on': u'2017-03-31T07:00:00Z', u'state': u'open', u'closed_issues': 4, u'open_issues': 7, u'closed_at': None, u'id': 2223205}, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/217', u'created_at': u'2017-03-16T19:20:56Z', u'assignees': [{u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}]}),
	Mock(raw_data={u'labels': [{u'url': u'https://api.github.com/repos/PartooHub/partoo/labels/task', u'color': u'fbca04', u'default': False, u'id': 500865110, u'name': u'task'}], u'number': 191, u'assignee': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 211369970, u'title': u'Partner Connections / Refine first view', u'comments': 0, u'state': u'open', u'body': u'- [x] (remove mako logic)\r\n- [x]  components structure (static)\r\n- [x] implement structure\r\n- [x] add interactions\r\n    - [ ] fetch data from google account\r\n- [x] style page\r\n- [ ] Dsiplay number of matched v. unMatched in Partner Connections Box (outside bulk matching app)\r\n    * make sure to keep in mind new businesses selected but not yet created by pusher. e.g. `partners.google_my_business.account_name` but no `partners.google_my_business.id`', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/191/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/191/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/191/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/191', u'updated_at': u'2017-03-21T09:58:34Z', u'user': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'milestone': {u'description': u'Enable users to do bulk matching on the web app', u'title': u'Partner Connections / GMB', u'url': u'https://api.github.com/repos/PartooHub/partoo/milestones/5', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/milestones/5/labels', u'created_at': u'2017-01-02T11:53:05Z', u'creator': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'number': 5, u'html_url': u'https://github.com/PartooHub/partoo/milestone/5', u'updated_at': u'2017-03-24T16:57:14Z', u'due_on': u'2017-03-31T07:00:00Z', u'state': u'open', u'closed_issues': 4, u'open_issues': 7, u'closed_at': None, u'id': 2223205}, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/191', u'created_at': u'2017-03-02T11:55:31Z', u'assignees': [{u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}]}),

	## Issue associated to another milestone
	Mock(raw_data={u'labels': [{u'url': u'https://api.github.com/repos/PartooHub/partoo/labels/enhancement', u'color': u'84b6eb', u'default': True, u'id': 496423043, u'name': u'enhancement'}], u'number': 199, u'assignee': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'repository_url': u'https://api.github.com/repos/PartooHub/partoo', u'closed_at': None, u'id': 213373476, u'title': u'Enhance PartnerRef with Required Fields attribute', u'comments': 0, u'state': u'open', u'body': u'Reduc Avenue only works for promos\r\n\r\nWe should check if promos is filled for the business\r\nIf not, we should have a config_required status\r\nOn the detail view there should be some explanations and a redirection to edit\r\n', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/issues/199/labels{/name}', u'events_url': u'https://api.github.com/repos/PartooHub/partoo/issues/199/events', u'comments_url': u'https://api.github.com/repos/PartooHub/partoo/issues/199/comments', u'html_url': u'https://github.com/PartooHub/partoo/issues/199', u'updated_at': u'2017-03-15T17:07:00Z', u'user': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'milestone': {u'description': u'New version of PM with ability to see aggregated PM by org', u'title': u'WebApp / Presence Management', u'url': u'https://api.github.com/repos/PartooHub/partoo/milestones/1', u'labels_url': u'https://api.github.com/repos/PartooHub/partoo/milestones/1/labels', u'created_at': u'2016-12-07T20:12:31Z', u'creator': {u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}, u'number': 1, u'html_url': u'https://github.com/PartooHub/partoo/milestone/1', u'updated_at': u'2017-03-16T17:44:59Z', u'due_on': u'2016-12-16T08:00:00Z', u'state': u'open', u'closed_issues': 25, u'open_issues': 10, u'closed_at': None, u'id': 2182613}, u'closed_by': None, u'locked': False, u'url': u'https://api.github.com/repos/PartooHub/partoo/issues/199', u'created_at': u'2017-03-10T15:38:22Z', u'assignees': [{u'following_url': u'https://api.github.com/users/BenCoDev/following{/other_user}', u'events_url': u'https://api.github.com/users/BenCoDev/events{/privacy}', u'organizations_url': u'https://api.github.com/users/BenCoDev/orgs', u'url': u'https://api.github.com/users/BenCoDev', u'gists_url': u'https://api.github.com/users/BenCoDev/gists{/gist_id}', u'html_url': u'https://github.com/BenCoDev', u'subscriptions_url': u'https://api.github.com/users/BenCoDev/subscriptions', u'avatar_url': u'https://avatars1.githubusercontent.com/u/4339031?v=3', u'repos_url': u'https://api.github.com/users/BenCoDev/repos', u'received_events_url': u'https://api.github.com/users/BenCoDev/received_events', u'gravatar_id': u'', u'starred_url': u'https://api.github.com/users/BenCoDev/starred{/owner}{/repo}', u'site_admin': False, u'login': u'BenCoDev', u'type': u'User', u'id': 4339031, u'followers_url': u'https://api.github.com/users/BenCoDev/followers'}]}),
]

mock_repo = Mock(
	get_issues=Mock(return_value=mock_issues)
)


class GithubIntegrationUnitTest(unittest.TestCase):

	def setUp(self):
		from github_integration import Github
		GITHUB_USER = os.environ["GITHUB_USER"]
		GITHUB_PWD = os.environ["GITHUB_PWD"]
		GITHUB_REPO_NAME = os.environ["GITHUB_REPO_NAME"]
		self.github = Github(GITHUB_USER, GITHUB_PWD, repo_name=GITHUB_REPO_NAME)

	def test_load(self):
		with patch.object(self.github, "get_repo", return_value=mock_repo):
			self.assertEquals(len(self.github.milestones), 0)
			self.github.load()
			self.assertEquals(len(self.github.milestones), 3)
			self.assertEquals(len(self.github.issues), 7)


class ElementUnitTest(unittest.TestCase):
	pass


class IssueUnitTest(unittest.TestCase):
	pass


class SingleIssueUnitTest(unittest.TestCase):
	pass


class AssociatedIssueUnitTest(unittest.TestCase):
	pass
